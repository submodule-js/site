import { Steps } from "nextra-theme-docs"

# Why Submodule?

Simpliest, yet very flexibile Inversion of Control within 100 lines of code

What Submodule brings?
- ✅ Typescript out of the box
- ✅ Browser, Node.js, Deno, Bun, you name it
- ✅ Easy to understand
- ✅ No magic, no codegen
- ✅ Integratable with all frameworks, bring your Next.js, Remix, Solid, Fastify, Express 

## 1 minute example
<Steps>
### Install dependencies
```bash copy
npm install @submodule/core chalk
```

### Write your color app
```javascript filename="main.mjs" copy
import { prepareExecutable } from "@submodule/core"
import chalk from "chalk"

const config = prepareExecutable(() => ({ color: process.env.LOG_COLOR || chalk.green }))

export const logger = prepareExecutable((config) => {
  return (...args) => {
    console.log(...args.map(arg => config.color(arg)))
  }
}, { initArgs: config.get })
```

```javascript filename="mymodule.mjs" copy
import { logger } from "./main"

// access from everywhere
logger.execute(logService => {
  logService.log('hello', 'world')
})
```

### Execute code
```bash copy
node main.mjs # should return hello world in green
LOG_COLOR=red node main.mjs # should return hello world in red
```

</Steps>